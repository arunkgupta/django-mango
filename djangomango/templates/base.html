{% load scss in_group from mango %}
{% load static from staticfiles %}
{% load i18n %}
<!DOCTYPE html>
<html>
<head>
  <title>{% block head_title %}{% trans "PyCon PH 2013" %}{% endblock %}</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-2.2.2.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% scss 'css/generic.scss' %}">

  {% block head %}
  {% endblock head %}

</head>
<body>

  <div class="container">
    <div class="page-header">
      <h1>
        <a href="{% url home %}">{% trans "PyCon Philippines 2013" %}</a>
        <span>
          {% if request.user.is_authenticated %}
            <a href="{% url logout %}" class="btn">{% trans "Logout" %}</a>
            {% if request.user|in_group:"moderator" %}
            <a href="{% url schedule_proposal %}" class="btn">{% trans "Schedule" %}</a>
            {% endif %}
            <a href="{% url submit_proposal %}" class="btn btn-success">{% trans "Submit Proposal" %}</a>
          {% else %}
            <a href="{% url signup %}" class="btn btn-success">{% trans "Signup" %}</a>
            <a href="{% url login %}" class="btn btn-info">{% trans "Login" %}</a>
          {% endif %}
        </span>
      </h1>
    </div>

    {% block messages %}
      {% if messages %}
      <div class="messages">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %}
    {% endblock messages %}

    {% block content %}
    {% endblock %}
  </div>

  <script type="text/javascript" src="{% static 'js/jquery-1.8.3.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/jquery-ui-1.9.2.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/bootstrap.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/moment.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/moment-range.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/underscore.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/backbone.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/handlebars.js' %}"></script>
  <script type="text/javascript">
  $(function() {
    // check which page is active
    $('.page-header h1 span a').each(function() {
        var href = $(this).attr('href'),
            currentUri = "{{ request.path }}";
        if (currentUri == href) $(this).addClass('active-page');
    });
  });
  </script>

  {% block javascript %}
  {% endblock javascript %}

</body>
</html>
